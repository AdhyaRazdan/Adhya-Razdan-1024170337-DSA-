#include <iostream>
using namespace std;

#define INF 999999
#define MAX 10     
int weight[MAX][MAX];   
int d[MAX];             
int parent[MAX];        
bool visited[MAX];      
int n;   

void initialize_single_source(int s) {
    for (int i = 0; i < n; i++) {
        d[i] = INF;
        parent[i] = -1;
        visited[i] = false;
    }
    d[s] = 0;      
}
int extract_min() {
    int minVal = INF;
    int minIndex = -1;
    for (int i = 0; i < n; i++) {
        if (!visited[i] && d[i] < minVal) {
            minVal = d[i];
            minIndex = i;
        }
    }
    return minIndex;
}
void relax(int u, int v) {
    if (d[v] > d[u] + weight[u][v]) {
        d[v] = d[u] + weight[u][v];
        parent[v] = u;
    }
}
void djikstra(int s) {
    initialize_single_source(s);
    for (int count = 0; count < n; count++) {
        int u = extract_min();   
        visited[u] = true;
        for (int v = 0; v < n; v++) {
            if (weight[u][v] != INF && !visited[v]) {
                relax(u, v);
            }
        }
    }
}
int main() {
    cout << "Enter number of vertices: ";
    cin >> n;
    cout << "Enter adjacency matrix (enter INF for no edge):\n";
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            cin >> weight[i][j];
        }
    }
    int source;
    cout << "Enter source vertex index (0-" << n-1 << "): ";
    cin >> source;
    djikstra(source);
    cout << "\nShortest distances from source " << source << ":\n";
    for (int i = 0; i < n; i++) {
        cout << "Vertex " << i << " : Distance = " << d[i] 
             << " Parent = " << parent[i] << endl;
    }
    return 0;
}
