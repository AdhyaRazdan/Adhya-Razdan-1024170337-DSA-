#include <iostream>
using namespace std;
#define MAX 20

int main() {
    int n, e, u, v;
    int adj[MAX][MAX];
    cin >> n>> e;
    for(int i=0;i<n;i++){
        for(int j=0;j<n;j++){
            adj[i][j] = 0;
        }
    }
    for(int i=0;i<e;i++){
        cin>>u >>v;
        adj[u][v] = 1;
        adj[v][u] = 1;
    }
    int vertex;
    cin>>vertex;
    int degree =0;
    for(int i=0;i<n;i++){
        if(adj[vertex][i] == 1){ 
            degree++;
        }
    }
    cout <<degree<<endl;
    for(int i=0;i<n;i++){
        if(adj[vertex][i] == 1) 
           cout << i << " ";
    }
    cout << endl;
    int edges =0;
    for(int i=0;i<n;i++){
      for(int j=0;j<n;j++){
        if(adj[i][j] == 1){
            edges++;
        }
      }
    }
    edges/= 2;
    cout <<edges;
    return 0;
}
