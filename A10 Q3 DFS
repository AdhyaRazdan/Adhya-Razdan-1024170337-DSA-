#include <iostream>
using namespace std;
#define WHITE 0
#define GRAY 1
#define BLACK 2 
struct node{
    int v;
    node* next;
};
node* adj[20];
struct vertex{
    int colour, d, f, parent;
};
vertex ver[20];
int Time=0;
void insertEdge(int u, int v){
    node* temp=new node;
    temp->v=v;
    temp->next=adj[u];
    adj[u]=temp;
}
void DFS_visit(int u){
    Time++;
    ver[u].d=Time;
    ver[u].colour=GRAY;
    node* curr=adj[u];
    while(curr!=NULL){
        int v=curr->v;
        if(ver[v].colour==WHITE){
            ver[v].parent=u;
            DFS_visit(v);
        }
        curr=curr->next;
    }
    ver[u].colour=BLACK;
    Time++;
    ver[u].f=Time;
}
void DFS(int n){
    for(int i=0;i<n;i++){
        ver[i].colour=WHITE;
        ver[i].parent=-1;
    }
    Time=0;
    for(int i=0;i<n;i++){
        if(ver[i].colour==WHITE){
            DFS_visit(i);
        }
    }
}
int main(){
    int n,type,e;
    cout<<"Enter no. of vertices ";
    cin>>n;
    for(int i=0;i<n; i++){
        adj[i]=NULL;
    }
    cout<<"Enter no. of edges ";
    cin>>e;
    cout<<"Graph type: (1-UNDIRECTED, 2-DIRECTED)";
    cin>>type;
    cout<<"Enter edges (u,v):\n";
    for(int i=0;i<e;i++){
        int u,v;
        cin>>u>>v;
        insertEdge(u,v);
        if(type==1){
            insertEdge(v,u);
        }
    }
    DFS(n);
    cout<<"\nVertex\td\tf\tparent\n";
    for(int i=0;i<n;i++){
        cout<<i<<"\t"<<ver[i].d<<"\t"<<ver[i].f<<"\t"<<ver[i].parent<<"\n";
    }
    return 0;
}
